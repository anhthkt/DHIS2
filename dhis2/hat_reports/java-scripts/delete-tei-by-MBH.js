const _axios=require('axios');
let i = 0;
(async (running = true) => {
    if (!running) return;
    [
        // "CH10"
       "TN4484808026620","DN4484808026620","GD4484821001400","GD4484821001400","TN4484813008054","CB2484820974640","GD4484820979379","GD4484820918319","GD4484820822713","GD4484820909710","CK2484820512419","GD4484820910729","CK2484820512419","GD4484820953385","GD4484820953385","GD4484821014017","GD4484820913297","HN2484820913297","TN4484811013548","CK2484821025651","GD4484820952010","BT2484820952010","BT2484821117958","GD4484821474883","TQ4979731595949","GD4484820994961","HN2484820983313","BT2484821073913","TN4484811021669","HN2484820936172","GD4484811021669","CN3484820936172","CN3484821025866","GD4484821025866","GD4484820995003","HN2484820915613","GD4484820950834","HN2484820993600","GD4484820993600","DN4483496041248","GD4484821011852","GD4484820964031","GD4484820987583","CN3484820922741","BH4484820987583","TQ4979732777006","DN4484808026818","TS2484820972288","GD4484821107805","QN5976697201611","GD4484820988918","BT2484821105275","TA4794821105275","TQ4979794000137","CN3484821030094","KC2484820909559","GD4484820940631","GD4484821416658","TQ4979794464634","CB2484820974640","CK2484821031212","GD4484820950778","GD4484820960767","TA4483497069227","GD4484821001400","GD4484820918319","HC4480405009955","GD4484820965036","GD4484820913297","GD4484811021669","HN2484820970908","CK2484820983890","GD4484821028679","BT2484821096260","GD4484820918774","BT2484820914631","HN2484820916810","BT2484821016451","GD4484820994961","HT2484820934311","GD4484820987583","GD4484820973826","GD4484820916486","BT2484821117939","BT2484820968511","BT2484820876355","CK2484820982396","TN4480406012340","CH4480402000117","CK2484821025651","CH4483496019991","GD4484820932283","CK2484821023259","GD4484820939870","CH4483496019358","DN4484808026818","GD4480400005360","TQ4979731773616","GD4484821107857","CK2484820973666","CN3484820972776","KC2484820909559","DN4483496041248","QN5979708190357","GD4484821416658","GD4484821398403","CK2480600101461","GD4484821021365","DN4484820186552","TS2484820943655","CN3484821034597","GD4484820988918","BT2484820922471","QN5976697201611","TQ4979732999819","BT2484820923587","GD4484820913297","GD4484821027979","TQ4979794464634","CK2484821006910","BT2484820923041","GD4484820940529","GD4484821050448","GD4484811021669","GD4484820909710","CN3484821032250","GD4484820918319","GD4484820995183","GD4484821346015","HN2484821009924","HN2484820915613","CB2484820984464","GD4484820995183","BH4757513193543","CK2480600101461","CN3484820922741","GD4484820987583","GD4484821017463","HT2484821007365","GD4757513193543","GD4484821065702","GD4484820942953","BT2484820964668","BT2484821105275","TA4794821105275","CK2480600101461","DN4480402006580","GD4484821008306","GD4484820940512","CK2484821034647","GD4484811004376","TA4484821024583","GD4484820957552","GD4484821052664","GD4484820929390","CH4483497055265","HN2484820970908","GD4484820998990","GD4484808001815","GD4484821416658","GD4484821448282","TQ4979794249429","GD4484821008469","GD4484821006497","CB2484820974640","TN4484813008054","DN4484809020221","DN4483496041248","GD4484821043714","CN3484820979688","DK2494920216629","TQ4979731019879","TQ4979731557304","KC4484820958442","HN2484820913297","TQ4979732777006","TS2484820954282","GD4484820913297","BT2484821023113","GD4484820993600","HN2484820939012","HN2484821023113","HN2484820993600","GD4484820994098","GD4484820615414","DN4484808033013","BT2484820966103","QN5976606344348","TN4484811021669","GD4484811021669","GD4484821043628","KC4333321153006","DN2484812012210","GD4484821021187","GD4484820988918","TN4483521160954","GD4484820909710","CN3484821019483","GD4484821019483","HN2484821019483","CB2484821012689","GD4484821013833","GD4484820926045","KC4484821003505","HN2484821020105","HN2484821003505","TA4484821003433","GD4484820918319","GD4484820994467","HN2484820874192","GD4484820987583","HN2484820975420","GD4484821065702","BH4484820987583","HN2484821034845","HT3483497055526","DN4484814005374","CN3484820922741","BT2484821065702","BT2484820962179","GD4484821372477","DN4480406015729","GD4484820929971","CK2484820993071","TA4483497069227","TN4480406015729","TN4484811013548","CK2480600101461","HT3484821310533","CH4483497055416","GD4484820916573","GD4484820995287","GD4484820965036","TN4484809010269","BT2484821020533","DN4484810020034","CK2484820982997","DN4484808026818","TQ4979794249429","GD4484821416658","HN2484820983313","CB2484820974640","TN4484813008054","GD4494920215264","HN2484820915613","DN2483497066479","TN4484813008054","GD4517939560912","HN2484820996593","DN4484820948285","CN3484820979688","GD4484820909993","CN3484821011871","DN4483496044049","DN4483496041248","GD4484820942871","GD4484820921242","HN2484820945165","GD4494920235946","HN2484820913297","GD4484820913297","TC3484821032571","TS2484820943655","CN3484821030094","GD4484821043714","TQ4979732777006","GD4484820998988","CN3484820950778","HN2484820961421","CB2484821012689","HN2484820961421","GD4484820950778","GD4484811021669","GD4484820971836","TN4484811021669","KC4333321153006","KC2484820909559","GD4483496034290","GD4494921181085","BH4484821006358","GB4333321205450","GD4494921181085","HN2484820874192","KC2484820967047","GD4484820987583","GD4484820922741","BH4484820987583","GD4484821065702","BT2484821065702","GD4484820988918","TA4483497069227","BT2484821117939","HN2484821034845","TQ4979732999819","DN4484808026818","TQ4979794000137","GD4484820823114","TN4484811013548","GD4484821398404","GD4484820918319","DN4480404006084","HN2484820975796","BT2484820949122","DN4484811003355","CB2484820974640","GD4484820900503","CN3484820979688","HN2484820983313","CH4483497055856","TN4483521160954","GD4484820983738","GD4484821043714","HN2484820945165","HN2484820874192","BT2484821065702","HN2484820932434","HN2484820939012","CH4483497055697","GD4484820963621","DN4484808026818","TQ4979794000137","GD4484820971212","BT2484820916810","CB2484820974640","HT2482660000100","GD4484808019614","CB2424216255441","GD4484820937127","HT2484821017422","GD4484821086943","GD4484820640930","GD4484820987583","BT2484821431531","GD4484820989176","GD4484820958669","BT2484821023718","GD4484821003831","HN2484820923321","GD4484821043796","GD4484821049826","BT2484820923297","BT2484820913233","GD4484820962378","CB2424216255441"

    ]
        .forEach(BHXH => {
            i = i + 1;
            _axios({
                url: [
                    `https://kln.tkyt.vn/api/trackedEntityInstances/query.json?ou=LOdti1gATwC&ouMode=ACCESSIBLE&trackedEntityType=EL3fkeMR3xK`
                    , `&attribute=JHb1hzseNMg:EQ:${BHXH}&paging=false`
                ].join(''),
                auth: {
                    username: 'anhth',
                    password: 'Csdl2018@)!*'
                }
            }).then(e => {
                try {
                    _axios({
                        url: [
                            `https://kln.tkyt.vn/api/trackedEntityInstances/`,
                            e.data.rows[0][0]
                        ].join(''),
                        method: "delete",
                        auth: {
                            username: 'anhth',
                            password: 'Csdl2018@)!*'
                        }
                    }).then(e => {
                        // console.log(++countDeleted)
                        console.log(e.data, ++i)
                    }).catch(err => {
                        console.log(err)
                    })
                } catch (e) {

                }
            }).catch(err => {
                console.log(err)
            })
        })
})()